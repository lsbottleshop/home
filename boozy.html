<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ü•É Choozy Boozy üç∫</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap');

        /* Basic reset and styling */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background: #1b1b1b;
            font-family: 'Luckiest Guy', cursive;
            color: #fff;
            overflow: hidden;
            position: relative;
        }

        h1 {
            font-size: 3rem;
            color: #ff5a5f;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.5);
            margin-bottom: 20px;
            margin-top: 7px;


            text-align: center;
        }

        .emoji-left, .emoji-right {
            font-size: 6rem;
            position: absolute;
            top: 25%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.2);
        }
        .emoji-left { left: 10px; }
        .emoji-right { right: 10px; }

        .emoji-left-alt, .emoji-right-alt {
            font-size: 6rem;
            position: absolute;
            top: 45%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.2);
        }
        .emoji-left-alt { left: 10px; }
        .emoji-right-alt { right: 10px; }

        .reel-container {
            width: 180px;
            height: 200px;
            overflow: hidden;
            border: 8px solid #ff5a5f;
            border-radius: 15px;
            position: relative;
            background: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            z-index: 1;
        }

        .indicator-left, .indicator-right {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 2;
            border-top: 15px solid transparent;
            border-bottom: 15px solid transparent;
        }

        .indicator-left { left: 5px; border-left: 15px solid #ff5a5f; }
        .indicator-right { right: 5px; border-right: 15px solid #ff5a5f; }

        .reel {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: top 4s cubic-bezier(0.25, 1, 0.5, 1);
            top: 0;
        }

        .segment {
            width: 100%;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            background-color: #333;
            border-bottom: 1px solid #555;
            text-transform: uppercase;
        }

        .segment:nth-child(3n) { background-color: #ff0000; }
        .segment:nth-child(3n+1) { background-color: #00cc00; }
        .segment:nth-child(3n+2) { background-color: #333333; }

        .button {
            padding: 25px 50px;
            font-size: 1.8rem;
            background-color: #ff5a5f;
            color: #fff;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-bottom: 30px;
        }

        .button:hover { background-color: #ff767a; }

        .divider {
            width: 80%;
            height: 2px;
            background-color: #555;
            margin: 20px 0;
        }

        .options-panel {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            max-width: 80%;
        }

        .option-button {
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: bold;
            color: #fff;
            background-color: #00cc00;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .option-button.unselected { background-color: #ff5a5f; }

        /* Popup styling */
        .popup-window {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 500px;
            background-color: #222;
            border: 5px solid #ff5a5f;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            z-index: 10;
            color: #fff;
        }
	      .tap {
           
            text-align: center;
        
        }

        .popup-title { font-size: 2.5rem; margin-bottom: 15px; color: #ff5a5f; }

        /* Center reel within the pop-up */
        .popup-reel-container {
            width: 180px;
            height: 200px;
            overflow: hidden;
            border: 8px solid #ff5a5f;
            border-radius: 15px;
            position: relative;
            background: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
        }
    </style>
</head>
<body>

<h1>Choozy Boozy</h1>

<div class="emoji-left">üçπ</div>
<div class="emoji-right">üç∫</div>
<div class="emoji-left-alt">ü•É</div>
<div class="emoji-right-alt">üç∏</div>

<div class="reel-container">
    <div class="indicator-left"></div>
    <div class="indicator-right"></div>
    <div class="reel" id="reel">
        <div class="segment">Bourbon</div>
        <div class="segment">Scotch</div>
        <div class="segment">Tequila</div>
        <div class="segment">Vodka</div>
        <div class="segment">Rum</div>
        <div class="segment">Gin</div>
        <div class="segment">Sake</div>
        <div class="segment">Brandy</div>
        <div class="segment">Red Wine</div>
        <div class="segment">White Wine</div>
        <div class="segment">Beer</div>
        <div class="segment">Champagne</div>
	<div class="segment">Bourbon</div>
        <div class="segment">Scotch</div>
        <div class="segment">Tequila</div>
        <div class="segment">Vodka</div>
        <div class="segment">Rum</div>
        <div class="segment">Gin</div>
        <div class="segment">Sake</div>
        <div class="segment">Brandy</div>
        <div class="segment">Red Wine</div>
        <div class="segment">White Wine</div>
        <div class="segment">Beer</div>
        <div class="segment">Champagne</div>
    </div>
	
</div>

<button class="button" onclick="spinReel()">SPIN</button>
<div class="divider"></div>
<div class="options-panel">
    <button class="option-button" data-option="Bourbon" onclick="toggleOption(this)">Bourbon</button>
    <button class="option-button" data-option="Scotch" onclick="toggleOption(this)">Scotch</button>
    <button class="option-button" data-option="Tequila" onclick="toggleOption(this)">Tequila</button>
    <button class="option-button" data-option="Vodka" onclick="toggleOption(this)">Vodka</button>
    <button class="option-button" data-option="Rum" onclick="toggleOption(this)">Rum</button>
    <button class="option-button" data-option="Gin" onclick="toggleOption(this)">Gin</button>
    <button class="option-button" data-option="Sake" onclick="toggleOption(this)">Sake</button>
    <button class="option-button" data-option="Brandy" onclick="toggleOption(this)">Brandy</button>
    <button class="option-button" data-option="Red Wine" onclick="toggleOption(this)">Red Wine</button>
    <button class="option-button" data-option="White Wine" onclick="toggleOption(this)">White Wine</button>
    <button class="option-button" data-option="Beer" onclick="toggleOption(this)">Beer</button>
    <button class="option-button" data-option="Champagne" onclick="toggleOption(this)">Champagne</button>
</div>
<div id="tapto"> <br> <p> tap to add or remove from selection pool </p> </div>
<div class="popup-window" id="popupWindow">
    <div class="popup-title" id="popupTitle">You chose: </div>
    <div class="popup-reel-container">
        <div class="indicator-left"></div>
        <div class="indicator-right"></div>
        <div class="reel" id="popupReel"></div>
	
    </div>
    <br><button class="button" onclick="spinOrClosePopup(this)">Choozy Boozy</button>
</div>

<script>
    const selectedOptions = [
        "Bourbon", "Scotch", "Tequila", "Vodka", "Rum", "Gin", "Sake", "Brandy",
        "Red Wine", "White Wine", "Beer", "Champagne"
    ];

    const drinkOptions = {
        "Bourbon": [
        "Old Fashioned", "Whiskey Sour", "Mint Julep", "Boulevardier", "Manhattan", 
        "Bourbon Smash", "Kentucky Mule", "Gold Rush", "Brown Derby", "Hot Toddy", 
        "Mint Julep", "Bourbon and Coke", "John Collins", "New York Sour", "Sazerac", 
        "Bourbon Highball", "Red Hook", "Paper Plane", "Whiskey Rickey", "Bourbon Hot Chocolate"
    ],
    "Scotch": [
        "Rob Roy", "Rusty Nail", "Penicillin", "Blood and Sand", "Scotch and Soda", 
        "The Godfather", "Hot Toddy", "Mamie Taylor", "Scotch Cobbler", "Highland Mule", 
        "Whiskey Fix", "Smoky Martini", "Rusty Sazerac", "Whiskey Daisy", "Blushing Monarch", 
        "The Duke", "The Crobsy", "Widow‚Äôs Kiss", "Bobby Burns", "Fog Cutter"
    ],
    "Tequila": [
        "Margarita", "Paloma", "Tequila Sunrise", "El Diablo", "Tequila Collins", 
        "Mexican Mule", "Batanga", "Tequila Smash", "Tequila Old Fashioned", "Ranch Water", 
        "La Rosita", "Siesta", "Tequila Sour", "Tequila Tonic", "Bloody Maria", 
        "Matador", "Juan Collins", "Tequila Negroni", "Pepino", "Tequila Sazerac"
    ],
    "Vodka": [
        "Bloody Mary", "Moscow Mule", "Cosmopolitan", "Vodka Martini", "White Russian", 
        "Black Russian", "Sea Breeze", "Screwdriver", "Harvey Wallbanger", "Cape Cod", 
        "Vodka Collins", "Vodka Gimlet", "Vodka Tonic", "Espresso Martini", "Appletini", 
        "Blue Lagoon", "Kamikaze", "French Martini", "Sex on the Beach", "Lemon Drop"
    ],
    "Rum": [
        "Daiquiri", "Mai Tai", "Pina Colada", "Mojito", "Dark ‚Äòn‚Äô Stormy", 
        "Rum Punch", "Hurricane", "Rum Swizzle", "Planter‚Äôs Punch", "Cuba Libre", 
        "Bahama Mama", "Painkiller", "Zombie", "Rum Old Fashioned", "Jungle Bird", 
        "Rum Runners", "Mai Tai", "Corn ‚Äòn‚Äô Oil", "Shark Bite", "Hemingway Daiquiri"
    ],
    "Gin": [
        "Gin & Tonic", "Negroni", "Martini", "Tom Collins", "French 75", 
        "Gimlet", "Bee's Knees", "Southside", "Gin Fizz", "Gin Rickey", 
        "Corpse Reviver #2", "Gin Basil Smash", "Clover Club", "Vesper", "Martinez", 
        "Aviation", "Singapore Sling", "Pegu Club", "Army & Navy", "Last Word"
    ],
    "Sake": [
        "Saketini", "Sake Bomb", "Plum Sake", "Cherry Blossom", "Tokyo Mule", 
        "Sake Margarita", "Lychee Sake Martini", "Sake Lemonade", "Sake Spritzer", "Sake Collins", 
        "Green Tea Sake", "Wasabi Martini", "Ginger Sake Smash", "Ume Highball", "Sake Mojito", 
        "Sake Negroni", "Matcha Sake", "Grapefruit Sake", "Yuzu Mule", "Sake Sangria"
    ],
    "Brandy": [
        "Sidecar", "Brandy Alexander", "Hot Toddy", "Brandy Sour", "Metropolitan", 
        "Brandy Smash", "Applejack Brandy", "Brandy Daisy", "Vieux Carr√©", "French Connection", 
        "Jack Rose", "Corpse Reviver", "Brandy Flip", "Brandy Crusta", "Brandy Collins", 
        "Mulled Brandy", "Brandy Old Fashioned", "Between the Sheets", "Champs-Elys√©es", "Pisco Sour"
    ],
    "Red Wine": [
        "Merlot", "Cabernet Sauvignon", "Ros√©", "Shiraz", "Malbec", 
        "Pinot Noir", "Zinfandel", "Sangiovese", "Chianti", "Tempranillo", 
        "Grenache", "Syrah", "Cabernet Franc", "Carmenere", "Nero d'Avola", 
        "Petite Sirah", "Pinotage", "Barbera", "Primitivo", "Mourvedre"
    ],
    "White Wine": [
        "Chardonnay", "Pinot Grigio", "Ros√©", "Sauvignon Blanc", "Riesling", 
        "Moscato", "Viognier", "Chenin Blanc", "Gew√ºrztraminer", "Albari√±o", 
        "Verdelho", "Vermentino", "Pinot Blanc", "Torront√©s", "Marsanne", 
        "Gr√ºner Veltliner", "Trebbiano", "Fiano", "Chablis", "Orvieto"
    ],
    "Beer": [
        "Pale Ale", "IPA", "Stout", "Lager", "Porter", 
        "Pilsner", "Saison", "Bock", "Amber Ale", "Witbier", 
        "Weissbier", "Barleywine", "Belgian Ale", "Cream Ale", "Hefeweizen", 
        "Kolsch", "Dunkel", "Brown Ale", "Imperial Stout", "Double IPA"
    ],
    "Champagne": [
        "Mimosa", "Bellini", "Kir Royale", "French 75", "Death in the Afternoon", 
        "Champagne Cocktail", "Poinsettia", "Seelbach", "Buck‚Äôs Fizz", "Sparkling Negroni", 
        "Sorrento Sparkler", "Champagne Punch", "Blushing Bubbly", "Mango Mimosa", "Peach Fizz", 
        "Lavender Fizz", "Pink Champagne Punch", "Pomegranate Spritz", "Ginger Fizz", "Champagne Julep"
    ]
    };

    let popupSpun = false;

    function toggleOption(button) {
        const option = button.dataset.option;
        const index = selectedOptions.indexOf(option);

        if (index > -1) {
            selectedOptions.splice(index, 1);
            button.classList.add('unselected');
        } else {
            selectedOptions.push(option);
            button.classList.remove('unselected');
        }
        updateReel();
    }

function updateReel() {
    const reel = document.getElementById('reel');
    reel.innerHTML = '';
    
    selectedOptions.forEach(option => {
        const segment = document.createElement('div');
        segment.className = 'segment';
        segment.textContent = option;
        reel.appendChild(segment);
    });

    // Duplicate the content to make the reel appear full initially
    reel.innerHTML += reel.innerHTML;

    // Set initial position to make it look filled
    const segmentHeight = 60; // height of each segment
    reel.style.top = `-${selectedOptions.length * segmentHeight}px`;
}

function showPopup(selectedDrink) {
    const popupReel = document.getElementById('popupReel');
    const popupWindow = document.getElementById('popupWindow');
    const popupTitle = document.getElementById('popupTitle');

    popupTitle.textContent = `Get some ${selectedDrink}`;

    // Populate the reel with options for the selected drink
    popupReel.innerHTML = '';
    drinkOptions[selectedDrink].forEach(option => {
        const segment = document.createElement('div');
        segment.className = 'segment';
        segment.textContent = option;
        popupReel.appendChild(segment);
    });

    // Duplicate the content to make the reel appear full initially
    popupReel.innerHTML += popupReel.innerHTML;

    // Set initial top position to simulate a full reel
    const segmentHeight = 60; // height of each segment
    popupReel.style.top = `-${drinkOptions[selectedDrink].length * segmentHeight}px`;

    // Show the popup
    popupWindow.style.display = 'block';
    popupSpun = false;
}

    function spinPopupReel(reel, options, button) {
        const segmentHeight = 60;
        const visibleMiddleOffset = (200 - segmentHeight) / 2;

        const randomIndex = Math.floor(Math.random() * options.length);
        const stopPosition = -(randomIndex * segmentHeight) + visibleMiddleOffset;

        reel.innerHTML += reel.innerHTML + reel.innerHTML;

        reel.style.transition = 'none';
        reel.style.top = `-${options.length * segmentHeight * 2}px`;
        void reel.offsetWidth;

        reel.style.transition = 'top 2s linear';
        reel.style.top = `-${options.length * segmentHeight * 3}px`;

        setTimeout(() => {
            reel.style.transition = 'top 3s cubic-bezier(0.25, 1, 0.5, 1)';
            reel.style.top = `${stopPosition - (options.length * segmentHeight)}px`;

            setTimeout(() => {
                button.textContent = `Enjoy a ${options[randomIndex]}`;
                popupSpun = true;
            }, 3000);
        }, 2000);
    }

    function spinOrClosePopup(button) {
        const popupReel = document.getElementById('popupReel');
        const selectedDrink = document.getElementById('popupTitle').textContent.replace("Get some ", "");

        if (!popupSpun) {
            spinPopupReel(popupReel, drinkOptions[selectedDrink], button);
        } else {
            document.getElementById('popupWindow').style.display = 'none';
            button.textContent = "Choozy Boozy";
        }
    }

    function spinReel() {
        if (selectedOptions.length === 0) {
            alert("Please select at least one option.");
            return;
        }

        const reel = document.getElementById('reel');
        const segmentHeight = 60;
        const visibleMiddleOffset = (200 - segmentHeight) / 2;

        const randomIndex = Math.floor(Math.random() * selectedOptions.length);
        const stopPosition = -(randomIndex * segmentHeight) + visibleMiddleOffset;

        reel.innerHTML += reel.innerHTML + reel.innerHTML;

        reel.style.transition = 'none';
        reel.style.top = `-${selectedOptions.length * segmentHeight * 2}px`;
        void reel.offsetWidth;

        reel.style.transition = 'top 2s linear';
        reel.style.top = `-${selectedOptions.length * segmentHeight * 3}px`;

        setTimeout(() => {
            reel.style.transition = 'top 3s cubic-bezier(0.25, 1, 0.5, 1)';
            reel.style.top = `${stopPosition - (selectedOptions.length * segmentHeight)}px`;

            setTimeout(() => {
                const chosenDrink = selectedOptions[randomIndex];
                showPopup(chosenDrink);
                reel.style.transition = 'none';
                reel.style.top = '0px';
            }, 3000);
        }, 2000);
    }
</script>

</body>
</html>
